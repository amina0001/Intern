
<nb-card>
  <nb-card-header>
    New User
  </nb-card-header>
  <nb-card-body>

    <form  #UserForm="ngForm" novalidate>
  	      <div class="row">
                <div class="col-md-6">
                 <div class="row"  style="margin-bottom: 5px">
                    <div class="col-md-4">  
                        <label for="name" >First Name <span style="color: red">(*)</span></label>
                    </div>
                    <div class="col-md-8">
                      <input type="text"  class="form-control" [(ngModel)]="model.firstname" #firstname="ngModel" name="firstname" required minlength="3" maxlength="20" >  
                       <div *ngIf="firstname.errors && (firstname.dirty || firstname.touched)" class="alert alert-danger">
                        <div [hidden]="!firstname.errors.required">
                          firstname is required!
                        </div>
                           <div [hidden]="!firstname.errors.minlength">
                          First Name must be at least 3 characters long.
                        </div>
                        <div [hidden]="!firstname.errors.maxlength">
                          First Name cannot be more than 20 characters long.
                        </div>
                    </div>  
                      
                </div>
            </div>
                </div> <!-- /.col-md-6 -->
                <div class="col-md-6">
                    <div class="row"  style="margin-bottom: 5px">
                       <div class="col-md-4">  
                            <label for="name"> Last Name <span style="color: red">(*)</span> </label>
                        </div>
                        <div class="col-md-8">
                          <input type="text"  class="form-control" [(ngModel)]="model.lastname"  #lastname="ngModel"  name="lastname" required  minlength="3" maxlength="20"  >  
                          <div *ngIf="lastname.errors && (lastname.dirty || lastname.touched)" class="alert alert-danger">
                        <div [hidden]="!lastname.errors.required">
                           Last Name is required!
                        </div>
                        <div [hidden]="!lastname.errors.minlength">
                           Last Name must be at least 3 characters long.
                        </div>
                        <div [hidden]="!lastname.errors.maxlength">
                           Last Name cannot be more than 20 characters long.
                        </div>
                    </div> 
                        </div>
                    </div><!-- /.row -->
                </div><!-- /.col-md-6 -->
            </div> <!-- /.row1 -->
            <div class="row">
                <div class="col-md-6">
                    <div class="row"  style="margin-bottom: 5px">
                        <div class="col-md-4">  
                            <label for="name">User Name <span style="color: red">(*)</span></label>
                         </div>
                        <div class="col-md-8">
                          <input type="text"  class="form-control" [(ngModel)]="model.username" name="username" #username="ngModel" required  minlength="3" maxlength="20" > 
                           <div *ngIf="username.errors && (username.dirty || username.touched)" class="alert alert-danger">
                        <div [hidden]="!username.errors.required">
                          User Name is required!
                        </div>
                        <div [hidden]="!password.errors.minlength">
                          User Name must be at least 3 characters long.
                        </div>
                        <div [hidden]="!password.errors.maxlength">
                          User Name cannot be more than 20 characters long.
                        </div>
                    </div>  
                    <div [hidden]="hiddenUS" class="alert alert-danger" role="alert">
                        <strong>Sorry</strong> <a href="#" class="alert-link"> Change the username </a> it's aleardy used
                   </div> 
                        </div>
                        
                    </div> <!-- /.row -->
                </div><!-- /.col-md-6 -->
                <div class="col-md-6">
                    <div class="row"  style="margin-bottom: 5px">
                    
                                <div class="col-md-4">  
                                    <label for="name">Email <span style="color: red">(*)</span> </label>
                                </div>
                                <div class="col-md-8">
                                    <input type="email"  class="form-control" [(ngModel)]="model.mail" name="mail" #mail="ngModel"  required email="true" pattern="^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$">  
                                          <div *ngIf="mail.errors && (mail.dirty || mail.touched)" class="alert alert-danger">
                                        <div [hidden]="!mail.errors.required">
                                          Email is required!
                                        </div>
                                         <div *ngIf="mail.errors?.email"> 
                                          Email not valid  and format should be <i>john@doe.com</i>.
                                    </div>
                                    </div> 

                                   <div *ngIf="mail.invalid" class="invalid-feedback">
                                  <div *ngIf="mail.errors.required">Email is required</div>
                                  <div *ngIf="mail.errors.email">Email must be a valid email address  and format should be <i>john@doe.com</i>.</div>
                                  <div *ngIf="mail.errors.pattern">Email must be a valid email address  and format should be <i>john@doe.com</i>.</div>
                              </div>
                                </div>
                    </div> <!-- /.row -->
                </div><!-- /.col-md-6 -->
            </div> <!-- /.row2 --> 
            <div class="row">
                <div class="col-md-6">
                        <div class="row"  style="margin-bottom: 5px">
                                   <div class="col-md-4">  
                            <label for="name">Password <span style="color: red">(*)</span> </label>
                        </div>
                        <div class="col-md-8">
                            <input type="password"  class="form-control" [(ngModel)]="model.password" #password="ngModel" name="password"  validateEqual="confirmpassword" reverse="true" required minlength="5" maxlength="15" >
                            <div *ngIf="password.errors && (password.dirty || password.touched)" class="alert alert-danger">
                        <div [hidden]="!password.errors.required">
                          Password is required!
                        </div>
                        <div [hidden]="!password.errors.minlength">
                          Password must be at least 5 characters long.
                        </div>
                        <div [hidden]="!password.errors.maxlength">
                          Password cannot be more than 15 characters long.
                        </div>
                    </div>   
                        </div>
                            </div> <!-- /.row -->
                </div><!-- /.col-md-6 -->
                <div class="col-md-6">
                    <div class="row"  style="margin-bottom: 5px">
                        <div class="col-md-4">  
                            <label for="name" >Confirm Password <span style="color: red">(*)</span> </label>
                        </div>
                        <div class="col-md-8">
                            <input type="password"   [(ngModel)]="confirmPassword" class="form-control"   name="confirmPassword"   required validateEqual="password" reverse="false" #confirmpassword="ngModel" value="" >  
                            <div [hidden]="confirmpassword.valid || confirmpassword.pristine "  class="alert alert-danger">
                          <div >
                                  Password mismatch
                              </div>
                            </div>
                   </div> <!-- /.row -->
                </div><!-- /.col-md-6 -->
            </div> <!-- /.row2 --></div>
            <div class="row">
                    <div class="col-md-6">
                            <div class="row"  style="margin-bottom: 5px">
                                    <div class="col-md-4">  
                                        <label for="name">Company <span style="color: red">(*)</span> </label>
                                    </div>
                                    <div class="col-md-8">
                                        <input type="text"  class="form-control" [(ngModel)]="model.company"  #company="ngModel" name="company" minlength="3" maxlength="40"
                                          required>  
                                        <div *ngIf="company.errors && (company.dirty || company.touched)" class="alert alert-danger">
                                        <div [hidden]="!company.errors.required">
                                          Company is required!
                                        </div>
                                        <div [hidden]="!company.errors.minlength">
                                          Company must be at least 3 characters long.
                                        </div>
                                        <div [hidden]="!company.errors.maxlength">
                                          Company cannot be more than 40 characters long.
                                        </div>
                                    </div> 
                                    </div>
                                </div> <!-- /.row -->
                    </div><!-- /.col-md-6 -->
                    <div class="col-md-6">
                        <div class="row"  style="margin-bottom: 5px">
                            <div class="col-md-4">  
                                <label for="name">Department <span style="color: red">(*)</span> </label>
                            </div>
                            <div class="col-md-8">
                                <input type="text"  class="form-control" [(ngModel)]="model.department" name="department"  #department="ngModel" required minlength="3" maxlength="20">  
                                 <div *ngIf="department.errors && (department.dirty || department.touched)" class="alert alert-danger">
                                        <div [hidden]="!department.errors.required">
                                          Department is required!
                                        </div>
                                        <div [hidden]="!department.errors.minlength">
                                          Department must be at least 3 characters long.
                                        </div>
                                        <div [hidden]="!department.errors.maxlength">
                                          Department cannot be more than 20 characters long.
                                        </div>
                                    </div> 
                            </div>
                        </div> <!-- /.row -->
                    </div><!-- /.col-md-6 -->
                    
               
                </div> <!-- /.row3 -->
                    <div class="row">
                         <div class="col-md-6">
                        <div class="row"  style="margin-bottom: 5px">
                            <div class="col-md-4">  
                                <label for="name">job title <span style="color: red">(*)</span> </label>
                            </div>
                            <div class="col-md-8">
                                <input type="text"  class="form-control" [(ngModel)]="model.JobTitle" name="JobTitle" #JobTitle="ngModel" required minlength="3" maxlength="40"> 
                                  <div *ngIf="JobTitle.errors && (JobTitle.dirty || JobTitle.touched)" class="alert alert-danger">
                                        <div [hidden]="!JobTitle.errors.required">
                                          job title is required!
                                        </div>
                                        <div [hidden]="!JobTitle.errors.minlength">
                                           job title  must be at least 3 characters long.
                                        </div>
                                        <div [hidden]="!JobTitle.errors.maxlength">
                                           job title  cannot be more than 40 characters long.
                                        </div>
                                    </div> 
                            </div>
                        </div> <!-- /.row -->
                    </div><!-- /.col-md-6 -->
                         <div class="col-md-6">
                            <div class="row"  style="margin-bottom: 5px">
                               <div class="col-md-4">  
                                                <label for="name">Mobile <span style="color: red">(*)</span> </label>
                                 </div>
                                   <div class="col-md-8">
                                                <input type="text"  class="form-control" [(ngModel)]="model.cellphone" #cellphone="ngModel" name="cellphone"  pattern="^[0-9-+s()]*$" required minlength="8">  
                                                <div *ngIf="cellphone.errors && (cellphone.dirty || cellphone.touched)" class="alert alert-danger">
                                                          <div *ngIf="cellphone.errors.pattern" class="text-danger">Cellphone must contains numbers Only as well as + and parentheses </div>

                                                    <div [hidden]="!cellphone.errors.required">
                                                      Cellphone is required!
                                                    </div>
                                                     <div [hidden]="!cellphone.errors.minlength">
                                                          Cellphone must be at least 8 characters long.
                                                        </div>
                                                </div> 
                                  </div>
                            </div> <!-- /.row -->
                        </div><!-- /.col-md-6 -->
                    </div>
                <div class="row">
                        <div class="col-md-6">
                                <div class="row"  style="margin-bottom: 5px">
                                        <div class="col-md-4">  
                                            <label for="name">Office Phone </label>
                                        </div>
                                        <div class="col-md-8">
                                            <input type="text"  class="form-control" [(ngModel)]="model.officephone" #officephone="ngModel" name="officephone" pattern="^[0-9-+()]*$" minlength="8">  
                                             <div *ngIf="officephone.errors" class="alert alert-danger">
                                            <div [hidden]="!officephone.errors.minlength">
                                                          Office Phone  must be at least 8 characters long.
                                            </div>
                                                 <div *ngIf="officephone.errors.pattern" class="text-danger">officephone must contains numbers Only  as well as + and parentheses </div>
                                          </div>
                                        </div>
                                    </div> <!-- /.row -->
                        </div><!-- /.col-md-6 -->
                         <div class="col-md-6">
                            <div class="row"  style="margin-bottom: 5px">
                               <div class="col-md-4">  
                                                <label for="name">Profile <span style="color: red">(*)</span> </label>
                                 </div>
                                   <div class="col-md-8">
                                                <select class="form-control" id="profile" name="profile" #profile="ngModel" [(ngModel)]="model.profile" required >
                                                     <option value="#" disabled="" selected>--Choose Profile--</option>
                                                     <option [value]="profile.id" *ngFor="let profile of profiles">             {{profile.name}}</option>
                                                    </select>
                                                     <div *ngIf="profile.errors && (profile.dirty || profile.touched)" class="alert alert-danger">
                                                       Required (Please Select Profile).
                                </div>
                                  </div>
                            </div> <!-- /.row -->
                        </div><!-- /.col-md-6 -->
                    </div> <!-- /.row4 -->

                
                           <div class="row">
          <div class="col-md-12"  >
              <button type="submit" class="btn btn-primary" [disabled]="!UserForm.form.valid" (click)="addUser()" style="margin-left: 79%;margin-right:1%">Save</button>
              <button type="submit" class="btn btn-default" (click)="Back()" style="background:grey!important;color: white!important">Cancel</button>
            
          </div>
        </div>
    </form>

  </nb-card-body>
</nb-card>
<style type="text/css">#snackbar {
  visibility: hidden; /* Hidden by default. Visible on click */
  min-width: 250px; /* Set a default minimum width */
  margin-left: -125px; /* Divide value of min-width by 2 */
  background-color: #333; /* Black background color */
  color: #fff; /* White text color */
  text-align: center; /* Centered text */
  border-radius: 2px; /* Rounded borders */
  padding: 16px; /* Padding */
  position: fixed; /* Sit on top of the screen */
  z-index: 1; /* Add a z-index if needed */
  left: 50%; /* Center the snackbar */
  bottom: 30px; /* 30px from the bottom */
}

/* Show the snackbar when clicking on a button (class added with JavaScript) */
#snackbar.show {
  visibility: visible; /* Show the snackbar */
  /* Add animation: Take 0.5 seconds to fade in and out the snackbar. 
  However, delay the fade out process for 2.5 seconds */
  -webkit-animation: fadein 0.5s, fadeout 0.5s 2.5s;
  animation: fadein 0.5s, fadeout 0.5s 2.5s;
}
#snackbar2 {
  visibility: hidden; /* Hidden by default. Visible on click */
  min-width: 250px; /* Set a default minimum width */
  margin-left: -125px; /* Divide value of min-width by 2 */
  background-color: #333; /* Black background color */
  color: #fff; /* White text color */
  text-align: center; /* Centered text */
  border-radius: 2px; /* Rounded borders */
  padding: 16px; /* Padding */
  position: fixed; /* Sit on top of the screen */
  z-index: 1; /* Add a z-index if needed */
  left: 50%; /* Center the snackbar */
  bottom: 30px; /* 30px from the bottom */
}

/* Show the snackbar when clicking on a button (class added with JavaScript) */
#snackbar2.show {
  visibility: visible; /* Show the snackbar */
  /* Add animation: Take 0.5 seconds to fade in and out the snackbar. 
  However, delay the fade out process for 2.5 seconds */
  -webkit-animation: fadein 0.5s, fadeout 0.5s 2.5s;
  animation: fadein 0.5s, fadeout 0.5s 2.5s;
}
/* Animations to fade the snackbar in and out */
@-webkit-keyframes fadein {
  from {bottom: 0; opacity: 0;} 
  to {bottom: 30px; opacity: 1;}
}

@keyframes fadein {
  from {bottom: 0; opacity: 0;}
  to {bottom: 30px; opacity: 1;}
}

@-webkit-keyframes fadeout {
  from {bottom: 30px; opacity: 1;} 
  to {bottom: 0; opacity: 0;}
}

@keyframes fadeout {
  from {bottom: 30px; opacity: 1;}
  to {bottom: 0; opacity: 0;}
}</style>
<div id="snackbar">User added successfully</div>
<div id="snackbar2">Sorry something went wrong</div>